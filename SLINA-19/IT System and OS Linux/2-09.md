## Домашнее задание к занятию "Загрузка ОС"  

### Задание 1  
Пользователь решил сделать мультизагрузку и установил себе на жесткий диск сначала ОС Windows, затем две одинаковых ОС Linux (все ОС в разные разделы).  
Сколько загрузчиков будет в такой системе?  
Приведите ответ в свободной форме со своим комментарием.  

#### Ответ:  
В такой системе будет 3 загрузчика.  
Хотелось бы дать комментарий про процедуру установки.  
- Настоятельно рекомендуется в первую очередь установить Windows, потому что GRUB может распознать Windows, тогда как Windows Boot Manager настроен на работу только с файлами Windows.  
- Выделить на загрузочном диске вашего ПК отдельное пространство для каждой ОС.  
- Установить Linux 1 и 2  
Осуществив эту установку, мы фактически заменим в иерархии загрузчиков загрузчик Windows на GRUB. GRUB просканирует диск, идентифицирует все установленные на нем операционные системы и запомнит адреса загрузчиков каждой из них – если пользователь выберет другую ОС (не Linux), GRUB передаст управление соответствующему загрузчику.  
Если бы Linux были разные, то можно отметить еще такой момент:  
- Каждый дистрибутив устанавливает свою версию загрузчика Grub, если для вас не важно от какого дистрибутива будет установлен загрузчик, то вы можете выбрать любой порядок, в противном же случае тот дистрибутив, которого загрузчик вы хотите использовать должен устанавливаться последним.  

### Задание 2  
На лекции мы рассмотрели загрузку ядра и дополнительных модулей. Почему сразу не сделано ядро со всеми модулями? Так бы смогли избавиться от initrd...  
Приведите ответ в свободной форме со своим комментарием.  

#### Ответ:  
- Без загружаемых модулей ядра операционные системы должны были бы иметь всю возможную функциональность в монолитном ядре. Значительная часть кода не используется и лишь занимает память. Каждый раз, когда пользователю необходима новая функциональность, ещё не включенная в базовое ядро, требуется полная перекомпиляция базового ядра и перезагрузка. Использование подгружаемых модулей значительно упрощает изменение функциональности ядра и не требует ни полной перекомпиляции (модуль часто может быть собран отдельно от ядра или поставлен в предкомпилированном виде), ни перезагрузок.  
- Ядро Linux позволяет драйверам оборудования, файловых систем, и некоторым другим компонентам быть скомпилированными отдельно - как модули, а не как часть самого ядра. Таким образом, вы можете обновлять драйвера не пересобирая ядро, а также динамически расширять его функциональность. А еще это значит, что вы можете включить в ядре только самое необходимое, а все остальное подключать с помощью модулей. 
- Таким образом если мы загрузим все модули в ядро, мы увеличим его размер. Это не лучшим образом скажется на универсальности ядра при использовании его на различных конфигурациях. Кроме  того, если в пересобранном с модулями ядре произойдет сбой, упадет вся система. К примеру, если мы решим обновить драйвер устройства и пересобрать ядро. А новый драйвер, по какой-то причине, откажется работать с устройством. В конфигурации же с initrd у нас просто не запустится данное устройство. При этом система загрузится. Таким образом, система при использовании initrd будет более отказоустойчива.


### Дополнительные задания (со звездочкой*)  
Эти задания дополнительные (необязательные к выполнению) и никак не повлияют на получение вами зачета по этому домашнему заданию. Вы можете их выполнить, если хотите глубже и/или шире разобраться в материале.  

### Задание 3*  
Существует ли возможность создать несколько загрузчиков в одной системе?  
Приведите ответ в свободной форме со своим комментарием.  

#### Ответ:  
Существует. К примеру - Задание №1.
- Многие профессионалы и опытные пользователи используют несколько загрузчиков на одном жёстком диске. На примере Windows.  
При установке Windows 8.1, 10, на устройство с БИОСом UEFI на жёстком диске ноутбука создаётся загрузчик, представляющий из себя скрытый (EFI) системный раздел, отформатированный в файловую систему FAT32, размер 100-300 Мб, на данном разделе располагаются файлы загрузки Windows 8.1, 10, в том числе и файл данных конфигурации загрузки (BCD). 
- Если на это же устройство установить вторую операционную систему Windows 8.1, 10, то вторая ОС просто пропишет себя в уже имеющийся загрузчик и при включении будет выходить специальное меню выбора операционных систем, в котором вы можете выбирать OS для загрузки и последующей работы. 
Но если при каких-либо обстоятельствах файлы загрузки будут повреждены (вирусы, неосторожные действия самого пользователя), то тогда не загрузятся обе операционные системы. 
Поэтому лучше установить на устройство с Windows 8.1 вторую операционную систему Windows 10 и создать для неё отдельный независимый загрузчик.  
- Кроме этого, есть вариант установки нескольких загрузчиков в одну ОС Linux, к примеру GRUB, ELILO и PXELINUX. Единственное, активным может быть только один из установленных загрузчиков.  

### Задание 4*  
Существует ли возможность загрузить несколько ядер ОС?  
Например, ОС Linux является многопользовательской и разные пользователи хотят загрузить разные версии ядра.  
Приведите ответ в свободной форме со своим комментарием.  

#### Ответ:  
В одной физической системе под разными пользователями нельзя загрузить разные ядра одновременно.  

### Задание 5*  
Существует такой вид виртуализации как контейнеризация: контейнеры создаются на уровне ОС и работают в изолированных пространствах.  
Вопрос: что произойдет, если в хостовой ОС установлен upstart, а в запущенном контейнере - systemd?  
Приведите ответ в свободной форме со своим комментарием.  

#### Ответ:  
Контейнеры берут от хостовой системы только ядро, память, сетевые интерфейсы для работы, но загружают свое собственное окружение, в т.ч. и собственную систему инициализации.  
